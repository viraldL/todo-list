(()=>{"use strict";var __webpack_modules__={290:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$X:()=>addTaskFormOpenClose,ZJ:()=>addProjectBtn,hH:()=>showProjects,pR:()=>addTaskBtn,wZ:()=>inboxController});var _project_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_task_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(507),_localStorage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158);let current=0;const addTaskFormOpenClose=function(e,t,_){const o=document.querySelector(e),a=document.querySelector(t),r=document.querySelector(_);o.addEventListener("click",(()=>{r.classList.add("active")})),a.addEventListener("click",(()=>{r.classList.remove("active")}))},closeForm=function(){document.querySelector(".customProjForm").classList.remove("active"),document.querySelector(".projectName").value=""},openForm=function(){document.querySelector(".customProjForm").classList.add("active")},getNewData=function(){return document.querySelectorAll("[data-project]").length},getNewDataTask=function(){return document.querySelectorAll("[data-task]").length},addProject=function(e){const t=getNewData(),_=document.querySelector(".customProjList"),o=document.querySelector("#projForm"),a=document.createElement("div"),r=document.createElement("button"),c=document.createElement("p");a.classList.add("customProj"),a.setAttribute("data-project",`${t}`),c.textContent=e;const l=new _project_js__WEBPACK_IMPORTED_MODULE_0__.Z(e);_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB.push(l),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.t8)(_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB),r.setAttribute("data-btn",`${t}`),r.textContent="X",a.appendChild(c),a.appendChild(r),c.addEventListener("click",(()=>{changeProject(a.getAttribute("data-project"))})),r.addEventListener("click",(()=>{a.remove();let e=document.querySelectorAll("[data-project]");_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB.splice(a.getAttribute("data-project"),1),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.q_)(a.getAttribute("data-project"));for(let t=0;t<e.length;t++)e[t].setAttribute("data-project",t)})),_.insertBefore(a,o)},showProjects=function(){const e=document.querySelector(".customProjList"),t=document.querySelector("#projForm");let _=JSON.parse(localStorage.getItem("projects"));if(_.length>1)for(let o=1;o<_.length;o++){const a=document.createElement("div"),r=document.createElement("button"),c=document.createElement("p");let l=_[o].title;a.classList.add("customProj"),a.setAttribute("data-project",`${o}`),c.textContent=l,r.setAttribute("data-btn",`${o}`),r.textContent="X",a.appendChild(c),a.appendChild(r),c.addEventListener("click",(()=>{changeProject(a.getAttribute("data-project"))})),r.addEventListener("click",(()=>{a.remove();let e=document.querySelectorAll("[data-project]");_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB.splice(a.getAttribute("data-project"),1),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.q_)(a.getAttribute("data-project"));for(let t=0;t<e.length;t++)e[t].setAttribute("data-project",t)})),e.insertBefore(a,t)}},addProjectBtn=function(){const e=document.querySelector(".customProjBtn"),t=document.querySelector("button.close"),_=document.querySelector("button.add");e.addEventListener("click",(()=>{openForm()})),t.addEventListener("click",(()=>{closeForm()})),_.addEventListener("click",(e=>{e.preventDefault();let t=document.querySelector(".projectName");addProject(t.value),closeForm()}))},addTask=function(){let e=_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB[current],t=document.querySelector("#taskTitle").value,_=document.querySelector("#taskDesc").value,o=document.querySelector("#taskDate").value,a=document.querySelector("#taskPrior").value;""===o&&(o="No date");const r=new _task_js__WEBPACK_IMPORTED_MODULE_2__.Z(t,_,o,a),c=document.querySelector(".taskForm");e.list.push(r),c.classList.remove("active"),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.t8)(_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB),_="",o="",a="",showTask(r)},inboxController=function(){if(document.querySelector("#inbox").addEventListener("click",(()=>{changeProject(0)})),!localStorage.getItem("projects")){let e=new _project_js__WEBPACK_IMPORTED_MODULE_0__.Z("Inbox");_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB.push(e),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.t8)(_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB)}0!==_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB[0].list.length&&_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB[0].list.forEach((e=>{showTask(e)}))},addTaskBtn=function(){document.querySelector("#addTask").addEventListener("click",(()=>{addTask(),document.querySelector("#taskTitle").value="",document.querySelector("#taskDesc").value="",document.querySelector("#taskDate").value="",document.querySelector("#taskPrior").value="0"}))},changeProject=function(e){const t=document.querySelector("#projectName"),_=_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB[e].title;document.querySelector("section").innerHTML="",_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB[e].list.forEach((e=>{showTask(e)})),t.textContent=_,console.log(_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB),current=e},renderTask=function(task){let index=getNewDataTask();const taskBox=document.createElement("div");taskBox.classList.add("task"),taskBox.setAttribute("data-task",`${index}`);const completedInput=document.createElement("input");completedInput.setAttribute("type","checkbox"),completedInput.checked=task.completed,completedInput.addEventListener("change",(()=>{task.completed=!task.completed,console.log(task),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.t8)(_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB)}));const div1=document.createElement("div"),div2=document.createElement("div");div2.classList.add("titlenpri");const title=document.createElement("span");title.classList.add("title"),title.textContent=task.title;const prior=document.createElement("span");prior.classList.add("prior");const starImg0=document.createElement("img"),starImg1=document.createElement("img"),starImg2=document.createElement("img");starImg0.src="images/star-fill.svg",starImg1.src="images/star-fill.svg",starImg2.src="images/star-fill.svg",starImg0.setAttribute("alt",""),starImg1.setAttribute("alt",""),starImg2.setAttribute("alt","");let i=0;do{eval(`prior.appendChild(starImg${i});`),i++}while(task.priority>=i);const desc=document.createElement("span");desc.classList.add("desc"),desc.textContent=task.desc;const date=document.createElement("span");date.classList.add("dueDate"),date.textContent=task.dueDate;const deleteBtn=document.createElement("button");return deleteBtn.textContent="Delete",deleteBtn.addEventListener("click",(()=>{taskBox.remove();const e=document.querySelectorAll("[data-task]");_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB[current].list.splice(taskBox.getAttribute("data-task"),1);for(let t=0;t<e.length;t++)e[t].setAttribute("data-task",t);console.log(_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.t8)(_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.mB)})),div2.appendChild(title),div2.appendChild(prior),div1.appendChild(div2),div1.appendChild(desc),div1.appendChild(date),taskBox.appendChild(completedInput),taskBox.appendChild(div1),taskBox.appendChild(deleteBtn),taskBox},showTask=function(e){document.querySelector("section").appendChild(renderTask(e))}},158:(e,t,_)=>{_.d(t,{hA:()=>l,mB:()=>a,q_:()=>c,t8:()=>r});var o=_(15);let a=[];function r(e){e.length>=0&&localStorage.setItem("projects",JSON.stringify(e))}function c(e){let t=JSON.parse(localStorage.getItem("projects"));t.splice(e,1),a=t,r(a)}function l(){let e=JSON.parse(localStorage.getItem("projects"));if(null!==e&&e.length>0)for(let t=0;t<=e.length-1;t++){let _=e[t].title,r=e[t].list,c=new o.Z(_);r.length>0&&r.forEach((e=>{c.add(e)})),a.push(c)}}},15:(e,t,_)=>{_.d(t,{Z:()=>o});class o{constructor(e){this.title=e,this.list=[]}add(e){this.list.push(e)}}},507:(e,t,_)=>{_.d(t,{Z:()=>o});class o{constructor(e,t,_,o,a=!1){this.title=e,this.desc=t,this.dueDate=_,this.priority=o,this.completed=a}set isCompleted(e){this.completed=e}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var _=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](_,_.exports,__webpack_require__),_.exports}__webpack_require__.d=(e,t)=>{for(var _ in t)__webpack_require__.o(t,_)&&!__webpack_require__.o(e,_)&&Object.defineProperty(e,_,{enumerable:!0,get:t[_]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={},_localStorage_js__WEBPACK_IMPORTED_MODULE_1__,_displayController_js__WEBPACK_IMPORTED_MODULE_0__;_localStorage_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(158),_displayController_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(290),(0,_displayController_js__WEBPACK_IMPORTED_MODULE_0__.$X)(".addTask",".closeBtn",".taskForm"),(0,_displayController_js__WEBPACK_IMPORTED_MODULE_0__.ZJ)(),(0,_displayController_js__WEBPACK_IMPORTED_MODULE_0__.pR)(),(0,_localStorage_js__WEBPACK_IMPORTED_MODULE_1__.hA)(),(0,_displayController_js__WEBPACK_IMPORTED_MODULE_0__.wZ)(),localStorage.getItem("projects")&&(0,_displayController_js__WEBPACK_IMPORTED_MODULE_0__.hH)()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2hCLENBRUEvQyxJQUFJb0QsR0FDQW9DLEtBQUt6QyxLQUFLQyxLQUFLSSxFQUNuQixFLGlDQ1JXLE1BQU1xQyxFQUNqQkYsWUFBWTdFLEVBQU9pQyxFQUFNK0IsRUFBU0QsRUFBVVIsR0FBWSxHQUNwRHVCLEtBQUs5RSxNQUFRQSxFQUNiOEUsS0FBSzdDLEtBQU9BLEVBQ1o2QyxLQUFLZCxRQUFVQSxFQUNmYyxLQUFLZixTQUFXQSxFQUNoQmUsS0FBS3ZCLFVBQVlBLENBQ3JCLENBRUl5QixnQkFBWUMsR0FDWkgsS0FBS3ZCLFVBQVkwQixDQUNyQixFLEdDVkFDLHlCQUEyQixDQUFDLEVBR2hDLFNBQVNDLG9CQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgseUJBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04seUJBQXlCRSxHQUFZLENBR2pERyxRQUFTLENBQUMsR0FPWCxPQUhBRSxvQkFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLHFCQUcvQ0ssRUFBT0QsT0FDZixDQ3JCQUosb0JBQW9CTyxFQUFJLENBQUNILEVBQVNJLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWFIsb0JBQW9CVSxFQUFFRixFQUFZQyxLQUFTVCxvQkFBb0JVLEVBQUVOLEVBQVNLLElBQzVFRSxPQUFPQyxlQUFlUixFQUFTSyxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsSUFFMUUsRUNORFQsb0JBQW9CVSxFQUFJLENBQUNLLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEcsZ1JDS2xGLHlEQUFxQixXQUFZLFlBQWEsY0FDOUMsNERBQ0EsNERBQ0EsdURBQ0EsMkRBQ0c5RSxhQUFhQyxRQUFRLGNBQ3BCLDBEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2Rpc3BsYXlDb250cm9sbGVyLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9sb2NhbFN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3QuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Rhc2suanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQcm9qZWN0IGZyb20gXCIuL3Byb2plY3QuanNcIjtcclxuaW1wb3J0IFRhc2sgZnJvbSBcIi4vdGFzay5qc1wiO1xyXG5pbXBvcnQgeyBwb3B1bGF0ZVN0b3JhZ2UsIHJldHJpdmVTdG9yYWdlLCBwcm9qZWN0c0xpc3QsIGRlbGV0ZVByb2plY3RMUywgc2hvd1N0b3JhZ2UgfSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2UuanNcIjtcclxuXHJcbmxldCBjdXJyZW50ID0gMDtcclxuY29uc3QgYWRkVGFza0Zvcm1PcGVuQ2xvc2UgPSBmdW5jdGlvbihvcGVuLCBjbG9zZSwgZm9ybSkge1xyXG4gICAgY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3Blbik7XHJcbiAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY2xvc2UpO1xyXG4gICAgY29uc3QgZm9ybUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybSk7XHJcblxyXG4gICAgLy9vcGVuIGZvcm0gZm9yIGFkZGluZyB0YXNrXHJcbiAgICBvcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgZm9ybUJveC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgICAvL2Nsb3NlIGZvcm0gZm9yIGFkZGluZyB0YXNrXHJcbiAgICBjbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuLy9jbG9zZSBwcm9qZWN0IGFkZCBmb3JtXHJcbmNvbnN0IGNsb3NlRm9ybSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgYWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VzdG9tUHJvakZvcm1cIik7XHJcbiAgICBhZGRGb3JtLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblxyXG4gICAgbGV0IGlucHV0RmllbGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2plY3ROYW1lXCIpO1xyXG4gICAgaW5wdXRGaWVsZC52YWx1ZSA9IFwiXCJcclxufVxyXG5cclxuLy9vcGVuIHByb2plY3QgYWRkIGZvcm1cclxuY29uc3Qgb3BlbkZvcm0gPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IGFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmN1c3RvbVByb2pGb3JtXCIpO1xyXG4gICAgYWRkRm9ybS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG59XHJcblxyXG4vL2dldCBudW1iZXIgb2YgcHJvamVjdHNcclxuY29uc3QgZ2V0TmV3RGF0YSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgYWxsUHJvaiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wcm9qZWN0XVwiKTsgXHJcbiAgICByZXR1cm4gYWxsUHJvai5sZW5ndGg7XHJcbn1cclxuXHJcbmNvbnN0IGdldE5ld0RhdGFUYXNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCBhbGxUYXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS10YXNrXVwiKTsgXHJcbiAgICByZXR1cm4gYWxsVGFza3MubGVuZ3RoO1xyXG59XHJcblxyXG4vL2FkZCBwcm9qZWN0IHRvIHRoZSBsaXN0XHJcbmNvbnN0IGFkZFByb2plY3QgPSBmdW5jdGlvbih0aXRsZSkge1xyXG4gICAgY29uc3QgaW5kZXggPSBnZXROZXdEYXRhKCk7XHJcbiAgICBjb25zdCBwcm9qTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VzdG9tUHJvakxpc3RcIik7XHJcbiAgICBjb25zdCBhZGRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qRm9ybVwiKTtcclxuXHJcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcbiAgICBkaXYuY2xhc3NMaXN0LmFkZChcImN1c3RvbVByb2pcIik7XHJcbiAgICBkaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1wcm9qZWN0XCIsIGAke2luZGV4fWApO1xyXG4gICAgcC50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG5cclxuICAgIGNvbnN0IG5ld1Byb2plY3QgPSBuZXcgUHJvamVjdCh0aXRsZSk7XHJcbiAgICBwcm9qZWN0c0xpc3QucHVzaChuZXdQcm9qZWN0KTtcclxuICAgIHBvcHVsYXRlU3RvcmFnZShwcm9qZWN0c0xpc3QpO1xyXG5cclxuICAgIGRlbGV0ZUJ0bi5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJ0blwiLCBgJHtpbmRleH1gKTtcclxuICAgIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9IFwiWFwiO1xyXG5cclxuICAgIGRpdi5hcHBlbmRDaGlsZChwKTtcclxuICAgIGRpdi5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xyXG4gICAgcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNoYW5nZVByb2plY3QoZGl2LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0JykpO1xyXG4gICAgfSlcclxuXHJcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBkaXYucmVtb3ZlKCk7XHJcbiAgICAgICAgbGV0IGFsbERpdnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtcHJvamVjdF1cIik7XHJcbiAgICAgICAgcHJvamVjdHNMaXN0LnNwbGljZShkaXYuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QnKSwgMSk7XHJcbiAgICAgICAgZGVsZXRlUHJvamVjdExTKGRpdi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdCcpKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgYWxsRGl2cy5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgICAgIGFsbERpdnNbaV0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2plY3QnLCBpKTtcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgcHJvakxpc3QuaW5zZXJ0QmVmb3JlKGRpdiwgYWRkRm9ybSk7XHJcbn1cclxuXHJcbmNvbnN0IHNob3dQcm9qZWN0cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGNvbnN0IHByb2pMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXN0b21Qcm9qTGlzdFwiKTtcclxuICAgIGNvbnN0IGFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2pGb3JtXCIpO1xyXG4gICAgbGV0IHByb2ogPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBwcm9qZWN0c2ApKTtcclxuICAgIFxyXG4gICAgaWYocHJvai5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMTsgaSA8IHByb2oubGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlbGV0ZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwcm9qZWN0TmFtZSA9IHByb2pbaV0udGl0bGU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChcImN1c3RvbVByb2pcIik7XHJcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByb2plY3RcIiwgYCR7aX1gKTtcclxuICAgICAgICAgICAgcC50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKFwiZGF0YS1idG5cIiwgYCR7aX1gKTtcclxuICAgICAgICAgICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJYXCI7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTtcclxuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XHJcblxyXG4gICAgICAgICAgICBwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VQcm9qZWN0KGRpdi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdCcpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICAgICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBkaXYucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWxsRGl2cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wcm9qZWN0XVwiKTtcclxuICAgICAgICAgICAgICAgIHByb2plY3RzTGlzdC5zcGxpY2UoZGl2LmdldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0JyksIDEpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlUHJvamVjdExTKGRpdi5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvamVjdCcpKTtcclxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhbGxEaXZzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgICAgICAgICBhbGxEaXZzW2ldLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9qZWN0JywgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHByb2pMaXN0Lmluc2VydEJlZm9yZShkaXYsIGFkZEZvcm0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuLy9jb250cm9sIGFkZCBwcm9qZWN0IGZyb20gYnV0dG9uc1xyXG5jb25zdCBhZGRQcm9qZWN0QnRuID0gZnVuY3Rpb24oKSB7XHJcbiAgICBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmN1c3RvbVByb2pCdG5cIik7XHJcbiAgICBjb25zdCBjbG9zZUZvcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLmNsb3NlXCIpXHJcbiAgICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLmFkZFwiKTtcclxuXHJcbiAgICBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBvcGVuRm9ybSgpO1xyXG4gICAgfSlcclxuXHJcbiAgICBjbG9zZUZvcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjbG9zZUZvcm0oKTtcclxuICAgIH0pXHJcbiAgICBhZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCBpbnB1dEZpZWxkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0TmFtZVwiKTtcclxuICAgICAgICBhZGRQcm9qZWN0KGlucHV0RmllbGQudmFsdWUpO1xyXG4gICAgICAgIGNsb3NlRm9ybSgpO1xyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcblxyXG5jb25zdCBhZGRUYXNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgY3VycmVudFByb2ogPSBwcm9qZWN0c0xpc3RbY3VycmVudF07XHJcbiAgICBsZXQgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tUaXRsZVwiKS52YWx1ZTtcclxuICAgIGxldCBkZXNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrRGVzY1wiKS52YWx1ZTtcclxuICAgIGxldCBkYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrRGF0ZVwiKS52YWx1ZTtcclxuICAgIGxldCBwcmlvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFza1ByaW9yXCIpLnZhbHVlO1xyXG4gICAgaWYoZGF0ZSA9PT0gXCJcIil7XHJcbiAgICAgICAgZGF0ZSA9IFwiTm8gZGF0ZVwiXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3VGFzayA9IG5ldyBUYXNrKHRpdGxlLCBkZXNjLCBkYXRlLCBwcmlvcik7XHJcbiAgICBjb25zdCBmb3JtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrRm9ybVwiKTtcclxuICAgIGN1cnJlbnRQcm9qLmxpc3QucHVzaChuZXdUYXNrKTtcclxuICAgIGZvcm1Cb3guY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIHBvcHVsYXRlU3RvcmFnZShwcm9qZWN0c0xpc3QpO1xyXG4gICAgZGVzYyA9IFwiXCI7XHJcbiAgICBkYXRlID0gXCJcIjtcclxuICAgIHByaW9yID0gXCJcIjtcclxuICAgIHNob3dUYXNrKG5ld1Rhc2spXHJcbn1cclxuXHJcbmNvbnN0IGluYm94Q29udHJvbGxlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgaW5ib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2luYm94XCIpO1xyXG4gICAgaW5ib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjaGFuZ2VQcm9qZWN0KDApO1xyXG4gICAgfSlcclxuICAgIGlmKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgcHJvamVjdHNgKSkge1xyXG4gICAgICAgIGxldCBJbmJveCA9IG5ldyBQcm9qZWN0KFwiSW5ib3hcIik7XHJcbiAgICAgICAgcHJvamVjdHNMaXN0LnB1c2goSW5ib3gpO1xyXG4gICAgICAgIHBvcHVsYXRlU3RvcmFnZShwcm9qZWN0c0xpc3QpO1xyXG4gICAgfVxyXG4gICAgaWYocHJvamVjdHNMaXN0WzBdLmxpc3QubGVuZ3RoICE9PSAwKXtcclxuICAgICAgICBwcm9qZWN0c0xpc3RbMF0ubGlzdC5mb3JFYWNoKHRhc2sgPT4ge1xyXG4gICAgICAgICAgICBzaG93VGFzayh0YXNrKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGFkZFRhc2tCdG4gPSBmdW5jdGlvbigpIHtcclxuICAgIGNvbnN0IGFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkVGFza1wiKTtcclxuICAgIGFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGFkZFRhc2soKTtcclxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2tUaXRsZVwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrRGVzY1wiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrRGF0ZVwiKS52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0YXNrUHJpb3JcIikudmFsdWUgPSBcIjBcIjtcclxuICAgIH0pXHJcbn1cclxuXHJcbmNvbnN0IGNoYW5nZVByb2plY3QgPSBmdW5jdGlvbihpZCkge1xyXG4gICAgY29uc3QgcHJvakRpc3BsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3ROYW1lXCIpO1xyXG4gICAgY29uc3QgcHJvak5hbWUgPSBwcm9qZWN0c0xpc3RbaWRdLnRpdGxlO1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInNlY3Rpb25cIikuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIHByb2plY3RzTGlzdFtpZF0ubGlzdC5mb3JFYWNoKHRhc2sgPT4ge1xyXG4gICAgICAgIHNob3dUYXNrKHRhc2spXHJcbiAgICB9KVxyXG4gICAgcHJvakRpc3BsYXkudGV4dENvbnRlbnQgPSBwcm9qTmFtZTtcclxuICAgIGNvbnNvbGUubG9nKHByb2plY3RzTGlzdCk7XHJcbiAgICBjdXJyZW50ID0gaWQ7XHJcbn1cclxuXHJcbmNvbnN0IHJlbmRlclRhc2sgPSBmdW5jdGlvbih0YXNrKSB7XHJcbiAgICBsZXQgaW5kZXggPSBnZXROZXdEYXRhVGFzaygpO1xyXG4gICAgY29uc3QgdGFza0JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICB0YXNrQm94LmNsYXNzTGlzdC5hZGQoXCJ0YXNrXCIpO1xyXG4gICAgdGFza0JveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRhc2tcIiwgYCR7aW5kZXh9YCk7XHJcblxyXG4gICAgY29uc3QgY29tcGxldGVkSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICBjb21wbGV0ZWRJbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XHJcbiAgICBjb21wbGV0ZWRJbnB1dC5jaGVja2VkID0gdGFzay5jb21wbGV0ZWQ7XHJcbiAgICBjb21wbGV0ZWRJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsICgpID0+IHtcclxuICAgICAgICB0YXNrLmNvbXBsZXRlZCA9ICF0YXNrLmNvbXBsZXRlZDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0YXNrKTtcclxuICAgICAgICBwb3B1bGF0ZVN0b3JhZ2UocHJvamVjdHNMaXN0KTtcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgZGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBjb25zdCBkaXYyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGRpdjIuY2xhc3NMaXN0LmFkZChcInRpdGxlbnByaVwiKTtcclxuXHJcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xyXG4gICAgdGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xyXG4gICAgdGl0bGUudGV4dENvbnRlbnQgPSB0YXNrLnRpdGxlO1xyXG5cclxuICAgIGNvbnN0IHByaW9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBwcmlvci5jbGFzc0xpc3QuYWRkKFwicHJpb3JcIik7XHJcbiAgICBjb25zdCBzdGFySW1nMCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBjb25zdCBzdGFySW1nMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBjb25zdCBzdGFySW1nMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBzdGFySW1nMC5zcmMgPSBcImltYWdlcy9zdGFyLWZpbGwuc3ZnXCI7XHJcbiAgICBzdGFySW1nMS5zcmMgPSBcImltYWdlcy9zdGFyLWZpbGwuc3ZnXCI7XHJcbiAgICBzdGFySW1nMi5zcmMgPSBcImltYWdlcy9zdGFyLWZpbGwuc3ZnXCI7XHJcbiAgICBzdGFySW1nMC5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJcIik7XHJcbiAgICBzdGFySW1nMS5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJcIik7XHJcbiAgICBzdGFySW1nMi5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJcIik7XHJcblxyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgZG8ge1xyXG4gICAgICAgIGV2YWwoYHByaW9yLmFwcGVuZENoaWxkKHN0YXJJbWcke2l9KTtgKTtcclxuICAgICAgICBpKytcclxuICAgIH0gd2hpbGUodGFzay5wcmlvcml0eSA+PSBpKTtcclxuXHJcbiAgICBjb25zdCBkZXNjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBkZXNjLmNsYXNzTGlzdC5hZGQoXCJkZXNjXCIpO1xyXG4gICAgZGVzYy50ZXh0Q29udGVudCA9IHRhc2suZGVzYztcclxuXHJcbiAgICBjb25zdCBkYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XHJcbiAgICBkYXRlLmNsYXNzTGlzdC5hZGQoXCJkdWVEYXRlXCIpO1xyXG4gICAgZGF0ZS50ZXh0Q29udGVudCA9IHRhc2suZHVlRGF0ZTtcclxuXHJcbiAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gXCJEZWxldGVcIjtcclxuXHJcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0YXNrQm94LnJlbW92ZSgpO1xyXG4gICAgICAgIGNvbnN0IGFsbFRhc2tzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRhc2tdXCIpO1xyXG4gICAgICAgIHByb2plY3RzTGlzdFtjdXJyZW50XS5saXN0LnNwbGljZSh0YXNrQm94LmdldEF0dHJpYnV0ZShcImRhdGEtdGFza1wiKSwgMSk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGFsbFRhc2tzLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgYWxsVGFza3NbaV0uc2V0QXR0cmlidXRlKCdkYXRhLXRhc2snLCBpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2cocHJvamVjdHNMaXN0KTtcclxuICAgICAgICBwb3B1bGF0ZVN0b3JhZ2UocHJvamVjdHNMaXN0KTtcclxuICAgIH0pXHJcblxyXG4gICAgZGl2Mi5hcHBlbmRDaGlsZCh0aXRsZSk7XHJcbiAgICBkaXYyLmFwcGVuZENoaWxkKHByaW9yKTtcclxuXHJcbiAgICBkaXYxLmFwcGVuZENoaWxkKGRpdjIpO1xyXG4gICAgZGl2MS5hcHBlbmRDaGlsZChkZXNjKTtcclxuICAgIGRpdjEuYXBwZW5kQ2hpbGQoZGF0ZSk7XHJcbiAgICB0YXNrQm94LmFwcGVuZENoaWxkKGNvbXBsZXRlZElucHV0KTtcclxuICAgIHRhc2tCb3guYXBwZW5kQ2hpbGQoZGl2MSk7XHJcbiAgICB0YXNrQm94LmFwcGVuZENoaWxkKGRlbGV0ZUJ0bik7XHJcbiAgICBcclxuICAgIHJldHVybiB0YXNrQm94O1xyXG59XHJcblxyXG5jb25zdCBzaG93VGFzayA9IGZ1bmN0aW9uKHRhc2spe1xyXG4gICAgY29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJzZWN0aW9uXCIpO1xyXG4gICAgc2VjdGlvbi5hcHBlbmRDaGlsZChyZW5kZXJUYXNrKHRhc2spKTtcclxufVxyXG5cclxuZXhwb3J0IHsgYWRkVGFza0Zvcm1PcGVuQ2xvc2UsIGFkZFByb2plY3RCdG4sIGFkZFRhc2tCdG4sIGluYm94Q29udHJvbGxlciwgc2hvd1Byb2plY3RzIH07IiwiaW1wb3J0IFByb2plY3QgZnJvbSBcIi4vcHJvamVjdC5qc1wiO1xyXG5cclxubGV0IHByb2plY3RzTGlzdD0gW107XHJcbmZ1bmN0aW9uIHBvcHVsYXRlU3RvcmFnZShwcm9qZWN0cykge1xyXG4gICAgaWYocHJvamVjdHMubGVuZ3RoID49IDApIHtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYHByb2plY3RzYCwgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlUHJvamVjdExTKGluZGV4KSB7XHJcbiAgICBsZXQgcHJvaiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYHByb2plY3RzYCkpO1xyXG4gICAgcHJvai5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgcHJvamVjdHNMaXN0ID0gcHJvajtcclxuICAgIHBvcHVsYXRlU3RvcmFnZShwcm9qZWN0c0xpc3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXRyaXZlU3RvcmFnZSgpIHtcclxuICAgIGxldCBwcm9qID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgcHJvamVjdHNgKSk7XHJcbiAgICBpZihwcm9qICE9PSBudWxsKSB7XHJcbiAgICAgICAgaWYocHJvai5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPD0gcHJvai5sZW5ndGggLSAxOyAgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2plY3ROYW1lID0gcHJvaltpXS50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGFza3MgPSBwcm9qW2ldLmxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2plY3QgPSBuZXcgUHJvamVjdChwcm9qZWN0TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGFza3MubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzLmZvckVhY2godGFzayA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0LmFkZCh0YXNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RzTGlzdC5wdXNoKHByb2plY3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93U3RvcmFnZSgpIHtcclxuICAgIGNvbnN0IHByb2pMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXN0b21Qcm9qTGlzdFwiKTtcclxuICAgIGNvbnN0IGFkZEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2pGb3JtXCIpO1xyXG4gICAgbGV0IHByb2ogPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGBwcm9qZWN0c2ApKTtcclxuXHJcbiAgICBpZihwcm9qLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICBmb3IobGV0IGkgPSAxOyBpIDwgcHJvai5sZW5ndGg7IGkrKykgeyAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcHJvamVjdE5hbWUgPSBwcm9qW2ldLnRpdGxlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChcImN1c3RvbVByb2pcIik7XHJcbiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKFwiZGF0YS1wcm9qZWN0XCIsIGAke2l9YCk7XHJcbiAgICAgICAgICAgICAgICBkaXYudGV4dENvbnRlbnQgPSBwcm9qZWN0TmFtZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkZWxldGVCdG4uc2V0QXR0cmlidXRlKFwiZGF0YS1idG5cIiwgYCR7aX1gKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bi50ZXh0Q29udGVudCA9IFwiWFwiO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRpdi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGVQcm9qZWN0TFMoaSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcHJvakxpc3QuaW5zZXJ0QmVmb3JlKGRpdiwgYWRkRm9ybSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCB7IHBvcHVsYXRlU3RvcmFnZSwgcmV0cml2ZVN0b3JhZ2UsIHByb2plY3RzTGlzdCwgc2hvd1N0b3JhZ2UsIGRlbGV0ZVByb2plY3RMUyB9OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2plY3Qge1xyXG4gICAgY29uc3RydWN0b3IodGl0bGUpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKHRhc2spIHtcclxuICAgICAgICB0aGlzLmxpc3QucHVzaCh0YXNrKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrIHtcclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjLCBkdWVEYXRlLCBwcmlvcml0eSwgY29tcGxldGVkID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgICAgdGhpcy5kZXNjID0gZGVzYztcclxuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgICAgICB0aGlzLmNvbXBsZXRlZCA9IGNvbXBsZXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgaXNDb21wbGV0ZWQoYm9vbCkge1xyXG4gICAgICAgIHRoaXMuY29tcGxldGVkID0gYm9vbDtcclxuICAgIH1cclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IFRhc2sgZnJvbSBcIi4vdGFzay5qc1wiO1xyXG5pbXBvcnQgUHJvamVjdCBmcm9tIFwiLi9wcm9qZWN0LmpzXCI7XHJcbmltcG9ydCB7IHBvcHVsYXRlU3RvcmFnZSwgcmV0cml2ZVN0b3JhZ2UsIHByb2plY3RzTGlzdCB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZS5qc1wiO1xyXG5pbXBvcnQgeyBhZGRUYXNrRm9ybU9wZW5DbG9zZSwgYWRkUHJvamVjdEJ0biwgYWRkVGFza0J0biwgaW5ib3hDb250cm9sbGVyLCBzaG93UHJvamVjdHMgfSBmcm9tIFwiLi9kaXNwbGF5Q29udHJvbGxlci5qc1wiO1xyXG5cclxuYWRkVGFza0Zvcm1PcGVuQ2xvc2UoXCIuYWRkVGFza1wiLCBcIi5jbG9zZUJ0blwiLCBcIi50YXNrRm9ybVwiKTtcclxuYWRkUHJvamVjdEJ0bigpO1xyXG5hZGRUYXNrQnRuKCk7XHJcbnJldHJpdmVTdG9yYWdlKCk7XHJcbmluYm94Q29udHJvbGxlcigpO1xyXG5pZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInByb2plY3RzXCIpKXtcclxuICAgIHNob3dQcm9qZWN0cygpO1xyXG59Il0sIm5hbWVzIjpbImN1cnJlbnQiLCJhZGRUYXNrRm9ybU9wZW5DbG9zZSIsIm9wZW4iLCJjbG9zZSIsImZvcm0iLCJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xvc2VCdG4iLCJmb3JtQm94IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNsb3NlRm9ybSIsInZhbHVlIiwib3BlbkZvcm0iLCJnZXROZXdEYXRhIiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImdldE5ld0RhdGFUYXNrIiwiYWRkUHJvamVjdCIsInRpdGxlIiwiaW5kZXgiLCJwcm9qTGlzdCIsImFkZEZvcm0iLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiZGVsZXRlQnRuIiwicCIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwibmV3UHJvamVjdCIsImFwcGVuZENoaWxkIiwiY2hhbmdlUHJvamVjdCIsImdldEF0dHJpYnV0ZSIsImFsbERpdnMiLCJpIiwiaW5zZXJ0QmVmb3JlIiwic2hvd1Byb2plY3RzIiwicHJvaiIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwcm9qZWN0TmFtZSIsImFkZFByb2plY3RCdG4iLCJhZGRCdG4iLCJjbG9zZUZvcm1CdG4iLCJhZGRCdXR0b24iLCJlIiwicHJldmVudERlZmF1bHQiLCJpbnB1dEZpZWxkIiwiYWRkVGFzayIsImN1cnJlbnRQcm9qIiwiZGVzYyIsImRhdGUiLCJwcmlvciIsIm5ld1Rhc2siLCJsaXN0IiwicHVzaCIsInNob3dUYXNrIiwiaW5ib3hDb250cm9sbGVyIiwiSW5ib3giLCJ0YXNrIiwiYWRkVGFza0J0biIsImlkIiwicHJvakRpc3BsYXkiLCJwcm9qTmFtZSIsImlubmVySFRNTCIsImZvckVhY2giLCJjb25zb2xlIiwibG9nIiwicmVuZGVyVGFzayIsInRhc2tCb3giLCJjb21wbGV0ZWRJbnB1dCIsImNoZWNrZWQiLCJjb21wbGV0ZWQiLCJkaXYxIiwiZGl2MiIsInN0YXJJbWcwIiwic3RhckltZzEiLCJzdGFySW1nMiIsInNyYyIsImV2YWwiLCJwcmlvcml0eSIsImR1ZURhdGUiLCJhbGxUYXNrcyIsInNwbGljZSIsInByb2plY3RzTGlzdCIsInBvcHVsYXRlU3RvcmFnZSIsInByb2plY3RzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImRlbGV0ZVByb2plY3RMUyIsInJldHJpdmVTdG9yYWdlIiwidGFza3MiLCJwcm9qZWN0IiwiUHJvamVjdCIsImNvbnN0cnVjdG9yIiwidGhpcyIsIlRhc2siLCJpc0NvbXBsZXRlZCIsImJvb2wiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiXSwic291cmNlUm9vdCI6IiJ9